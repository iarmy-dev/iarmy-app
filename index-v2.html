<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://telegram.org https://cdn.jsdelivr.net https://js.stripe.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src https://fonts.gstatic.com; img-src 'self' data: https: blob:; connect-src 'self' https://byqfnpdcnifauhwgetcq.supabase.co https://api.stripe.com https://sheets.googleapis.com https://www.googleapis.com; frame-src https://js.stripe.com;">
  <title>Mon Compte - iArmy</title>
  <link rel="icon" type="image/svg+xml" href="/img/favicon.svg">
  <meta name="theme-color" content="#FF6B35">
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="https://js.stripe.com/v3/"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    * { font-family: 'Inter', sans-serif; margin: 0; padding: 0; box-sizing: border-box; }
    body { background: #0d0d0d; color: white; min-height: 100vh; overflow-x: hidden; }

    /* Grid pattern background */
    .bg-grid {
      position: fixed;
      inset: 0;
      background-image:
        radial-gradient(circle at 1px 1px, rgba(255,255,255,0.03) 1px, transparent 0);
      background-size: 40px 40px;
      pointer-events: none;
      z-index: 0;
    }

    /* Animated gradient orbs */
    .orb { position: fixed; border-radius: 50%; filter: blur(120px); animation: float 20s ease-in-out infinite; pointer-events: none; z-index: 1; }
    .orb-1 { width: 600px; height: 600px; background: linear-gradient(135deg, #FF6B35, #FF8B5E); top: -200px; right: -200px; opacity: 0.15; }
    .orb-2 { width: 500px; height: 500px; background: linear-gradient(135deg, #6B35FF, #8B5EFF); bottom: -150px; left: -200px; opacity: 0.12; animation-delay: -10s; }
    .orb-3 { width: 300px; height: 300px; background: linear-gradient(135deg, #06B6D4, #22D3EE); top: 40%; left: 50%; opacity: 0.08; animation-delay: -5s; }
    @keyframes float { 0%, 100% { transform: translate(0, 0) scale(1); } 33% { transform: translate(40px, -40px) scale(1.08); } 66% { transform: translate(-30px, 30px) scale(0.95); } }

    /* Nav */
    nav { position: fixed; top: 0; left: 0; right: 0; z-index: 50; background: rgba(13,13,13,0.7); backdrop-filter: blur(24px); -webkit-backdrop-filter: blur(24px); border-bottom: 1px solid rgba(255,255,255,0.06); }
    .nav-inner { max-width: 800px; margin: 0 auto; padding: 16px 24px; display: flex; align-items: center; justify-content: space-between; }
    .logo-i { width: 36px; height: 36px; min-width: 36px; min-height: 36px; background: linear-gradient(135deg, #FF6B35, #FF8B5E); border-radius: 10px; display: flex; align-items: center; justify-content: center; transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); cursor: pointer; position: relative; overflow: hidden; }
    .logo-i:hover { transform: scale(1.1); box-shadow: 0 8px 30px rgba(255,107,53,0.5); }
    .logo-i svg { width: 100%; height: 100%; object-fit: contain; }
    .logo-i #i-helmet { transform-origin: 70px 60px; animation: helmetBounce 3s ease-in-out infinite; }
    @keyframes helmetBounce { 0%, 85%, 100% { transform: rotate(0deg) translateY(0); } 88% { transform: rotate(-3deg) translateY(-1px); } 92% { transform: rotate(1deg) translateY(0.5px); } 96% { transform: rotate(-1deg) translateY(0); } }
    .logo-i:hover #i-helmet { animation: salute 0.5s ease-out; }
    @keyframes salute { 0% { transform: rotate(0deg) translateY(0); } 30% { transform: rotate(-8deg) translateY(-3px); } 60% { transform: rotate(2deg) translateY(-1px); } 100% { transform: rotate(0deg) translateY(0); } }
    .nav-right { display: flex; align-items: center; gap: 8px; }
    .btn-icon { width: 36px; height: 36px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.08); border-radius: 10px; display: flex; align-items: center; justify-content: center; color: rgba(255,255,255,0.5); cursor: pointer; transition: all 0.2s; }
    .btn-icon:hover { background: rgba(255,255,255,0.1); color: white; }
    .btn-icon.danger:hover { background: rgba(239,68,68,0.15); color: #ef4444; }

    /* Container */
    .container { max-width: 800px; margin: 0 auto; padding: 100px 24px 60px; position: relative; z-index: 10; }

    /* User card - glassmorphism */
    .user-card {
      background: rgba(255,255,255,0.03);
      backdrop-filter: blur(24px);
      -webkit-backdrop-filter: blur(24px);
      border: 1px solid rgba(255,255,255,0.08);
      border-radius: 24px;
      padding: 28px;
      display: flex;
      align-items: center;
      gap: 20px;
      margin-bottom: 40px;
      position: relative;
      overflow: hidden;
    }
    .user-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 1px;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
    }
    .avatar { width: 72px; height: 72px; border-radius: 50%; background: linear-gradient(135deg, #FF6B35, #FF8B5E); display: flex; align-items: center; justify-content: center; font-size: 26px; font-weight: 700; color: white; flex-shrink: 0; overflow: hidden; box-shadow: 0 8px 24px rgba(255,107,53,0.25); }
    .avatar img { width: 100%; height: 100%; object-fit: cover; }
    .user-info { flex: 1; }
    .user-name { font-size: 22px; font-weight: 700; margin-bottom: 4px; display: flex; align-items: center; gap: 12px; }
    .user-email { font-size: 14px; color: rgba(255,255,255,0.4); }
    .badge { display: inline-block; padding: 5px 12px; border-radius: 20px; font-size: 11px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px; }
    .badge.tester { background: rgba(168,85,247,0.2); color: #c084fc; border: 1px solid rgba(168,85,247,0.3); }
    .badge.active { background: rgba(34,197,94,0.2); color: #4ade80; border: 1px solid rgba(34,197,94,0.3); }

    /* Section */
    .section-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px; }
    .section-title { font-size: 13px; font-weight: 600; color: rgba(255,255,255,0.4); text-transform: uppercase; letter-spacing: 1.5px; }

    /* Module grid - compact squares */
    .modules-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 16px;
    }
    @media (max-width: 640px) {
      .modules-grid { grid-template-columns: repeat(2, 1fr); }
    }

    /* Module card - glassmorphism square */
    .module-card {
      background: rgba(255,255,255,0.03);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border: 1px solid rgba(255,255,255,0.08);
      border-radius: 20px;
      padding: 24px 20px;
      cursor: pointer;
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      position: relative;
      overflow: hidden;
      text-align: center;
      animation: cardFloat 6s ease-in-out infinite;
    }
    .module-card:nth-child(2) { animation-delay: -2s; }
    .module-card:nth-child(3) { animation-delay: -4s; }
    @keyframes cardFloat { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-6px); } }

    .module-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 1px;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.15), transparent);
      opacity: 0;
      transition: opacity 0.3s;
    }
    .module-card:hover::before { opacity: 1; }
    .module-card:hover {
      transform: translateY(-8px) scale(1.02);
      border-color: rgba(255,255,255,0.15);
      box-shadow: 0 20px 50px rgba(0,0,0,0.4), 0 0 0 1px rgba(255,255,255,0.1);
    }
    .module-card.active { border-color: rgba(255,107,53,0.3); }
    .module-card.active:hover { border-color: rgba(255,107,53,0.5); box-shadow: 0 20px 50px rgba(255,107,53,0.15); }

    /* Module icon */
    .module-icon-wrapper {
      width: 64px;
      height: 64px;
      margin: 0 auto 16px;
      border-radius: 18px;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
    }
    .module-icon-wrapper::after {
      content: '';
      position: absolute;
      inset: -2px;
      border-radius: 20px;
      background: linear-gradient(135deg, rgba(255,255,255,0.1), transparent);
      z-index: -1;
    }

    .module-name { font-size: 16px; font-weight: 700; margin-bottom: 6px; }
    .module-desc { font-size: 12px; color: rgba(255,255,255,0.4); line-height: 1.5; margin-bottom: 12px; min-height: 36px; }
    .module-status {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 6px 12px;
      border-radius: 20px;
      font-size: 11px;
      font-weight: 600;
      background: rgba(255,255,255,0.05);
      color: rgba(255,255,255,0.5);
    }
    .module-status.active { background: rgba(34,197,94,0.15); color: #4ade80; }
    .module-status .dot { width: 6px; height: 6px; border-radius: 50%; background: currentColor; }

    /* Mini animations */
    .mini-sheet { width: 36px; height: 36px; background: #1a472a; border-radius: 6px; overflow: hidden; padding: 3px; }
    .mini-sheet-row { display: flex; height: 10px; }
    .mini-sheet-cell { flex: 1; background: rgba(255,255,255,0.1); margin: 1px; border-radius: 2px; }
    .mini-sheet-cell.fill { animation: cellFill 2s ease-in-out infinite; }
    .mini-sheet-cell.fill-1 { animation-delay: 0s; }
    .mini-sheet-cell.fill-2 { animation-delay: 0.3s; }
    .mini-sheet-cell.fill-3 { animation-delay: 0.6s; }
    @keyframes cellFill { 0%, 40% { background: rgba(255,255,255,0.1); } 50%, 90% { background: #4ade80; } 100% { background: rgba(255,255,255,0.1); } }

    /* Stock bottles */
    .mini-stock { width: 40px; height: 32px; display: flex; align-items: flex-end; justify-content: center; gap: 4px; position: relative; }
    .mini-bottle { position: relative; width: 14px; height: 28px; }
    .mini-bottle-body { position: absolute; bottom: 0; width: 14px; height: 18px; background: rgba(6,182,212,0.2); border: 2px solid #22D3EE; border-radius: 3px 3px 5px 5px; overflow: hidden; }
    .mini-bottle-neck { position: absolute; bottom: 17px; left: 4px; width: 6px; height: 7px; background: rgba(6,182,212,0.2); border: 2px solid #22D3EE; border-bottom: none; border-radius: 2px 2px 0 0; }
    .mini-bottle-cap { position: absolute; bottom: 23px; left: 3px; width: 8px; height: 4px; background: #22D3EE; border-radius: 2px; }
    .mini-bottle-fill { position: absolute; bottom: 0; left: 0; right: 0; background: linear-gradient(180deg, #22D3EE, #06B6D4); border-radius: 0 0 3px 3px; }
    .mini-bottle-1 .mini-bottle-fill { animation: bottleEmpty 3s ease-in-out infinite; }
    .mini-bottle-2 .mini-bottle-fill { animation: bottleFill 3s ease-in-out infinite; }
    @keyframes bottleEmpty { 0%, 10% { height: 70%; } 45%, 55% { height: 15%; } 90%, 100% { height: 70%; } }
    @keyframes bottleFill { 0%, 10% { height: 15%; } 45%, 55% { height: 70%; } 90%, 100% { height: 15%; } }
    .mini-stock-count { position: absolute; top: 0; right: -4px; width: 14px; height: 14px; background: #06B6D4; border-radius: 50%; font-size: 8px; font-weight: 700; color: #083344; display: flex; align-items: center; justify-content: center; animation: countPop 3s ease-in-out infinite; }
    @keyframes countPop { 0%, 35% { opacity: 0; transform: scale(0.5); } 50% { opacity: 1; transform: scale(1.2); } 60%, 80% { opacity: 1; transform: scale(1); } 90%, 100% { opacity: 0; transform: scale(0.8); } }

    /* Paie animation */
    .mini-paie { width: 36px; height: 32px; display: flex; align-items: center; justify-content: center; position: relative; }
    .mini-paie-people { display: flex; align-items: flex-end; gap: 2px; position: absolute; animation: paiePeopleToEuro 3.5s ease-in-out infinite; }
    .mini-paie-person { display: flex; flex-direction: column; align-items: center; }
    .mini-paie-head { width: 6px; height: 6px; border-radius: 50%; background: white; margin-bottom: 1px; }
    .mini-paie-body { width: 8px; height: 9px; background: white; border-radius: 3px 3px 2px 2px; }
    @keyframes paiePeopleToEuro { 0%, 50% { opacity: 1; } 60%, 90% { opacity: 0; } 100% { opacity: 1; } }
    .mini-paie-euro { position: absolute; font-size: 20px; font-weight: 800; color: white; opacity: 0; animation: paieEuroAppear 3.5s ease-in-out infinite; }
    @keyframes paieEuroAppear { 0%, 50% { opacity: 0; transform: scale(0.5); } 65% { opacity: 1; transform: scale(1.1); } 75%, 85% { opacity: 1; transform: scale(1); } 95%, 100% { opacity: 0; transform: scale(0.8); } }

    /* Connections */
    .connections-section { margin-top: 48px; }
    .connections-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; }
    .connection-card {
      background: rgba(255,255,255,0.02);
      border: 1px solid rgba(255,255,255,0.06);
      border-radius: 16px;
      padding: 18px;
      transition: all 0.2s;
    }
    .connection-card.connected { border-color: rgba(34,197,94,0.25); }
    .connection-header { display: flex; align-items: center; gap: 12px; margin-bottom: 8px; }
    .connection-icon { width: 22px; height: 22px; }
    .connection-name { font-size: 14px; font-weight: 500; }
    .connection-status { font-size: 12px; color: rgba(255,255,255,0.4); display: flex; align-items: center; gap: 6px; }
    .connection-status.ok { color: #4ade80; }
    .connection-status .dot { width: 6px; height: 6px; border-radius: 50%; background: currentColor; }

    /* Footer */
    .footer { margin-top: 60px; padding-top: 24px; border-top: 1px solid rgba(255,255,255,0.06); display: flex; justify-content: center; gap: 32px; }
    .footer-link { display: flex; align-items: center; gap: 8px; color: rgba(255,255,255,0.4); font-size: 13px; font-weight: 500; cursor: pointer; transition: color 0.2s; background: none; border: none; }
    .footer-link:hover { color: white; }
    .footer-link.danger:hover { color: #ef4444; }

    /* Toast */
    .toast { position: fixed; top: 80px; left: 50%; transform: translateX(-50%) translateY(-20px); padding: 14px 28px; background: rgba(34, 197, 94, 0.9); backdrop-filter: blur(20px); border: 1px solid rgba(255,255,255,0.2); border-radius: 16px; color: white; font-size: 14px; font-weight: 500; opacity: 0; z-index: 10000; transition: all 0.4s; pointer-events: none; }
    .toast.show { transform: translateX(-50%) translateY(0); opacity: 1; }
    .toast.error { background: rgba(239, 68, 68, 0.9); }

    /* Loading */
    .loading-screen { position: fixed; inset: 0; background: #0d0d0d; display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 100; transition: opacity 0.3s; }
    .loading-screen.hidden { opacity: 0; pointer-events: none; }
    .loading-logo { width: 64px; height: 64px; background: linear-gradient(135deg, #FF6B35, #FF8B5E); border-radius: 18px; display: flex; align-items: center; justify-content: center; font-size: 32px; font-weight: 800; animation: pulse 1.5s ease-in-out infinite; }
    @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }
  </style>
</head>
<body>
  <!-- Loading -->
  <div class="loading-screen" id="loading-screen">
    <div class="loading-logo">i</div>
  </div>

  <!-- Background -->
  <div class="bg-grid"></div>
  <div class="orb orb-1"></div>
  <div class="orb orb-2"></div>
  <div class="orb orb-3"></div>

  <!-- Nav -->
  <nav>
    <div class="nav-inner">
      <a id="logo-link" href="https://iarmy.fr" style="text-decoration: none; color: white; display: flex; align-items: center; gap: 10px;">
        <div class="logo-i">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 139.61 327.81">
            <defs><style>.logo-body{fill:#fff;stroke:#fff;stroke-miterlimit:10}.logo-shadow{fill:#cecdd1;stroke-miterlimit:10}.logo-shadow-stroke{fill:#cecdd1;stroke:#cecdd1;stroke-miterlimit:10}.logo-helmet{fill:#47330f;stroke:#47330f;stroke-miterlimit:10}</style></defs>
            <g id="i-body"><path class="logo-body" d="M85.32,142.54c-2.41.32-5.05.57-7.21.96-8.54,1.56-33.88,6.95-43.99,9.8-12.24,3.46-13.3,11.97-14.1,17.56-.8,5.59,1.41,17.88,11.17,17.88,8.54,0,8.25,10.59,8.25,10.59,0,0,.14,68.63,0,84.86-.16,17.89-10.64,17.82-10.64,17.82,0,0-7.71,0-7.71,12.24,0,13.39,14.1,13.03,14.1,13.03h85.12c10.91,0,11.7-14.63,11.7-14.63,0,0,1.6-13.83-10.64-13.83-8.78,0-8.25-15.69-8.25-15.69v-112.79s1.05-15.65-4.69-20.55c-7.08-6.86-15.9-8.21-23.11-7.24Z"/><path class="logo-shadow" d="M51.63,148.52c-15.07,6.79-15.86,21.93-15.86,21.93,0,0-1.5,12.05,11.76,14.95,6.69,1.42,6.63,13.69,6.63,13.69v85.37c0,16.21-8.04,17.97-8.04,17.97,0,0-7.31.55-7.31,12.31,0,13.47,11.31,13.07,11.31,13.07h-14.97s-14.9.36-14.89-13.11c0-12.31,7.71-13.2,7.71-13.2,0,0,10.92.15,10.92-17.04v-85.37s.24-9.76-7.67-9.76c-10.37,0-12.68-13.36-11.88-18.98.8-5.62,2.46-14.33,14.77-17.81l17.49-4.02Z"/></g>
            <g id="i-head"><circle class="logo-body" cx="71.97" cy="86.29" r="47.78"/><path class="logo-shadow-stroke" d="M28.09,105.24c-2.51-5.81-3.9-12.22-3.9-18.95,0-26.39,21.39-47.78,47.78-47.78,21.31,0,39.36,13.95,45.52,33.22,0,0-57.76-3.29-89.39,33.5Z"/><path class="logo-shadow" d="M11.18,94.6c7.57,0,22.75-16.13,22.75-16.13,0,0,9.63-8.94,22.45-13.62,0,0-15.61,5.19-20.22,5.09-5.54-.13-18.51-29.21,3.34-53.81-18.29,6.35-31.42,23.73-31.42,44.18,0,0,.43,7.31,1.24,10.76,0,0,2.7,9.61,1.85,23.53Z"/><path class="logo-shadow" d="M90.21,58.98c22.66-6.38,45.01-.4,37.63-3.02-8.45-2.99-7.62-11.85-7.62-11.85,0,0-3.34,4.39-30,14.86Z"/></g>
            <g id="i-helmet"><path class="logo-body" d="M.66,106s-1.06-3.33,2.22-6.38c4.51-4.19-.15-23.54-.15-23.54-1.07-4.54-1.64-9.28-1.64-14.14C1.09,28.01,28.6.5,62.53.5c28.39,0,52.29,19.26,59.33,45.43,0,0,.69,6.19,7.75,9.4,4.72,2.14,9.06,4.39,9.43,7.55,0,0-22.99-6.11-65.67,3.07-25.04,4.53-39.22,19.55-39.22,19.55,0,0-23.43,24.08-33.47,20.51Z"/><path class="logo-helmet" d="M.66,106c.84,4.08,18.82,3.64,28.44,2.78,44.27-4.52,100.5-34,107.13-40.41,2.2-2.13,2.98-3.92,2.8-5.49,0,0-22.99-6.11-65.67,3.07-25.04,4.53-39.22,19.55-39.22,19.55,0,0-23.43,24.08-33.47,20.51"/><path class="logo-helmet" d="M.66,106c10.04,3.58,33.47-20.51,33.47-20.51,0,0,14.19-15.02,39.22-19.55,42.68-9.18,65.67-3.07,65.67-3.07.14,1.18-.2,2.38-1.34,3.86l-.02.03c-5.59-1.12-27.75-4.42-64.31,3.45-25.04,4.53-39.22,19.55-39.22,19.55,0,0-13.82,14.38-24.79,19.32,0,0-8.43-.46-8.68-3.09Z"/></g>
          </svg>
        </div>
        <span style="font-weight: 600;">iArmy</span>
      </a>
      <div class="nav-right">
        <button class="btn-icon" onclick="openModal('settings')" title="Parametres">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"/><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/></svg>
        </button>
        <button class="btn-icon danger" onclick="signOut()" title="Deconnexion">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>
        </button>
      </div>
    </div>
  </nav>

  <div class="container">
    <!-- User Card -->
    <div class="user-card">
      <div class="avatar" id="avatar">
        <span id="avatar-initials">?</span>
      </div>
      <div class="user-info">
        <div class="user-name">
          <span id="user-name">Chargement...</span>
          <span class="badge tester" id="user-badge" style="display: none;">Testeur</span>
        </div>
        <div class="user-email" id="user-email"></div>
      </div>
    </div>

    <!-- Modules -->
    <div class="section-header">
      <div class="section-title">Mes Modules</div>
    </div>

    <div class="modules-grid">
      <!-- Compta -->
      <div class="module-card" id="module-compta" onclick="goToModule()">
        <div class="module-icon-wrapper" style="background: linear-gradient(135deg, rgba(13,122,63,0.4), rgba(13,122,63,0.15));">
          <div class="mini-sheet">
            <div class="mini-sheet-row">
              <div class="mini-sheet-cell fill fill-1"></div>
              <div class="mini-sheet-cell fill fill-2"></div>
            </div>
            <div class="mini-sheet-row">
              <div class="mini-sheet-cell fill fill-3"></div>
              <div class="mini-sheet-cell"></div>
            </div>
            <div class="mini-sheet-row">
              <div class="mini-sheet-cell"></div>
              <div class="mini-sheet-cell"></div>
            </div>
          </div>
        </div>
        <div class="module-name">Compta</div>
        <div class="module-desc">Saisie rapide de ta caisse via Telegram</div>
        <div class="module-status" id="module-status">
          <span class="dot"></span>
          Configurer
        </div>
      </div>

      <!-- Stock -->
      <div class="module-card" id="module-stock" onclick="goToStockModule()">
        <div class="module-icon-wrapper" style="background: linear-gradient(135deg, rgba(6,182,212,0.4), rgba(6,182,212,0.15));">
          <div class="mini-stock">
            <div class="mini-bottle mini-bottle-1">
              <div class="mini-bottle-cap"></div>
              <div class="mini-bottle-neck"></div>
              <div class="mini-bottle-body"><div class="mini-bottle-fill"></div></div>
            </div>
            <div class="mini-bottle mini-bottle-2">
              <div class="mini-bottle-cap"></div>
              <div class="mini-bottle-neck"></div>
              <div class="mini-bottle-body"><div class="mini-bottle-fill"></div></div>
            </div>
            <div class="mini-stock-count">2</div>
          </div>
        </div>
        <div class="module-name">Stock</div>
        <div class="module-desc">Inventaire et suivi des bouteilles</div>
        <div class="module-status" id="stock-status">
          <span class="dot"></span>
          Configurer
        </div>
      </div>

      <!-- Paie -->
      <div class="module-card" id="module-paie" onclick="goToPaieModule()">
        <div class="module-icon-wrapper" style="background: linear-gradient(135deg, rgba(251,191,36,0.4), rgba(245,158,11,0.15));">
          <div class="mini-paie">
            <div class="mini-paie-people">
              <div class="mini-paie-person">
                <div class="mini-paie-head"></div>
                <div class="mini-paie-body"></div>
              </div>
              <div class="mini-paie-person">
                <div class="mini-paie-head"></div>
                <div class="mini-paie-body"></div>
              </div>
              <div class="mini-paie-person">
                <div class="mini-paie-head"></div>
                <div class="mini-paie-body"></div>
              </div>
            </div>
            <div class="mini-paie-euro">â‚¬</div>
          </div>
        </div>
        <div class="module-name">Paie</div>
        <div class="module-desc">Calcul automatique des salaires</div>
        <div class="module-status" id="paie-status">
          <span class="dot"></span>
          Configurer
        </div>
      </div>
    </div>

    <!-- Connections -->
    <div class="connections-section">
      <div class="section-header">
        <div class="section-title">Connexions</div>
      </div>
      <div class="connections-grid">
        <div class="connection-card" id="conn-sheets">
          <div class="connection-header">
            <svg class="connection-icon" viewBox="0 0 24 24" fill="none">
              <rect x="3" y="3" width="18" height="18" rx="2" fill="#0F9D58"/>
              <rect x="6" y="7" width="5" height="2" fill="white"/>
              <rect x="13" y="7" width="5" height="2" fill="white"/>
              <rect x="6" y="11" width="5" height="2" fill="white"/>
              <rect x="13" y="11" width="5" height="2" fill="white"/>
              <rect x="6" y="15" width="5" height="2" fill="white"/>
              <rect x="13" y="15" width="5" height="2" fill="white"/>
            </svg>
            <span class="connection-name">Google Sheets</span>
          </div>
          <div class="connection-status" id="sheets-status">Non connecte</div>
        </div>
        <div class="connection-card" id="conn-telegram">
          <div class="connection-header">
            <svg class="connection-icon" viewBox="0 0 24 24" fill="#229ED9">
              <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19-.14.75-.42 1-.68 1.03-.58.05-1.02-.38-1.58-.75-.88-.58-1.38-.94-2.23-1.5-.99-.65-.35-1.01.22-1.59.15-.15 2.71-2.48 2.76-2.69a.2.2 0 00-.05-.18c-.06-.05-.14-.03-.21-.02-.09.02-1.49.95-4.22 2.79-.4.27-.76.41-1.08.4-.36-.01-1.04-.2-1.55-.37-.63-.2-1.12-.31-1.08-.66.02-.18.27-.36.74-.55 2.92-1.27 4.86-2.11 5.83-2.51 2.78-1.16 3.35-1.36 3.73-1.36.08 0 .27.02.39.12.1.08.13.19.14.27-.01.06.01.24 0 .38z"/>
            </svg>
            <span class="connection-name">Telegram</span>
          </div>
          <div class="connection-status" id="telegram-status">Non connecte</div>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <div class="footer">
      <button class="footer-link" onclick="openModal('billing')">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="1" y="4" width="22" height="16" rx="2"/><line x1="1" y1="10" x2="23" y2="10"/></svg>
        Facturation
      </button>
      <button class="footer-link" onclick="openModal('settings')">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg>
        Parametres
      </button>
    </div>
  </div>

  <script>
    // Placeholder - en production, copier le JS complet de index.html
    document.getElementById('loading-screen').classList.add('hidden');
    document.getElementById('user-name').textContent = 'Demo User';
    document.getElementById('user-email').textContent = 'demo@example.com';
    document.getElementById('avatar-initials').textContent = 'DU';

    function goToModule() { alert('Module Compta'); }
    function goToStockModule() { alert('Module Stock'); }
    function goToPaieModule() { alert('Module Paie'); }
    function openModal(name) { alert('Modal: ' + name); }
    function signOut() { alert('Deconnexion'); }
  </script>
</body>
</html>
